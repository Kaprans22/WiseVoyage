<!-- app/views/trips/show.html.erb -->
<br>
<br>
<div class="container">
  <div>
    <h1><%= @trip.destination %>âœ¨</h1>
  </div>
  <br>
  <div class="d-flex justify-content-between">
    <div class="dates">
      <p>Start date: <%= @trip.start_date %></p>
      <p>End date: <%= @trip.end_date %></p>
    </div>
      <div>
        <%= button_to 'Add to favourites', trips_path, class: "btn btn-outline-white", method: :get %>
      </div>
  </div>

  <!-- Photo gallery -->

  <div class="show-gallery">
    <div class="images-show-big">
      <%= image_tag 'Italy.jpg' %>
    </div>
    <div class="images-show-small">
      <div class="smaller-images-show">
       <%= image_tag 'italy(1).jpg' %>
      </div>
      <div class="smaller-images-show">
       <%= image_tag 'italy(2).jpg' %>
      </div>
      <div class="smaller-images-show">
        <%= image_tag 'italy(3).jpg' %>
      </div>
      <div class="smaller-images-show">
       <%= image_tag 'italy(5).jpg' %>
      </div>
    </div>
  </div>
  <br>
  <br>

  <!-- Short description -->
  <p><%= @trip.content.split("=>").last %></p>

  <!-- Itinerary -->
  <h2>Additional Suggestions:</h2>

  <% itinerary = @trip.additional_suggestions %>

  <% dates_and_activities = itinerary.split(/\*\*(\d{4}-\d{2}-\d{2})\*\*/).reject(&:empty?) %>

  <% itinerary_hash = Hash[dates_and_activities.each_slice(2).to_a] %>

  <% itinerary_hash.each do |date, activities| %>
  <h2><%= date %>:</h2>
  <ul>
    <% (activities.to_s.split('*')|| []).reject(&:empty?).each do |activity| %>
      <li><p><%= activity.strip %></p></li>
    <% end %>
  </ul>
  <% end %>
  <br>
  <%= button_to 'Back', trips_path, class: "btn btn-outline-black", method: :get %>
</div>
